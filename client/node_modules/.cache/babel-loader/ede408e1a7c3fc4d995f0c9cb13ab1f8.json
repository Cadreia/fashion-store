{"ast":null,"code":"import { ShopActionTypes } from \"./shop.types\";\nimport { put, takeEvery } from \"redux-saga/effects\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db, transformCollectionsSnapshotToMap } from \"../../firebase/firebase.utils\";\nimport { fetchCollectionsFailure, fetchCollectionsSuccess } from \"./shop.actions\";\n\nfunction* fetchCollectionsAsync() {\n  try {\n    const collectionRef = collection(db, \"collections\");\n    const snapshot = getDocs(collectionRef);\n    const collectionsMap = transformCollectionsSnapshotToMap(snapshot);\n    yield put(fetchCollectionsSuccess(collectionsMap));\n  } catch (error) {\n    yield put(fetchCollectionsFailure(error.message));\n  }\n}\n\nfunction* fetchCollectionsStart() {\n  yield takeEvery(ShopActionTypes.FETCH_COLLECTIONS_START, fetchCollectionsAsync);\n}\n\nexport { fetchCollectionsAsync, fetchCollectionsStart };","map":{"version":3,"sources":["/home/audrey/Documents/REACT/PORTFOLIO/fashion-store/src/redux/shop/shop.sagas.js"],"names":["ShopActionTypes","put","takeEvery","collection","getDocs","db","transformCollectionsSnapshotToMap","fetchCollectionsFailure","fetchCollectionsSuccess","fetchCollectionsAsync","collectionRef","snapshot","collectionsMap","error","message","fetchCollectionsStart","FETCH_COLLECTIONS_START"],"mappings":"AAAA,SAASA,eAAT,QAAgC,cAAhC;AACA,SAASC,GAAT,EAAcC,SAAd,QAA+B,oBAA/B;AACA,SAASC,UAAT,EAAqBC,OAArB,QAAoC,oBAApC;AACA,SAASC,EAAT,EAAaC,iCAAb,QAAsD,+BAAtD;AACA,SAASC,uBAAT,EAAkCC,uBAAlC,QAAiE,gBAAjE;;AAEA,UAAUC,qBAAV,GAAkC;AAC9B,MAAI;AACA,UAAMC,aAAa,GAAGP,UAAU,CAACE,EAAD,EAAK,aAAL,CAAhC;AACA,UAAMM,QAAQ,GAAGP,OAAO,CAACM,aAAD,CAAxB;AACA,UAAME,cAAc,GAAGN,iCAAiC,CAACK,QAAD,CAAxD;AACA,UAAMV,GAAG,CAACO,uBAAuB,CAACI,cAAD,CAAxB,CAAT;AACH,GALD,CAKE,OAAOC,KAAP,EAAc;AACZ,UAAMZ,GAAG,CAACM,uBAAuB,CAACM,KAAK,CAACC,OAAP,CAAxB,CAAT;AACH;AACJ;;AAED,UAAUC,qBAAV,GAAkC;AAC9B,QAAMb,SAAS,CAACF,eAAe,CAACgB,uBAAjB,EAA0CP,qBAA1C,CAAf;AACH;;AAED,SAAQA,qBAAR,EAA+BM,qBAA/B","sourcesContent":["import { ShopActionTypes } from \"./shop.types\";\nimport { put, takeEvery } from \"redux-saga/effects\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db, transformCollectionsSnapshotToMap } from \"../../firebase/firebase.utils\";\nimport { fetchCollectionsFailure, fetchCollectionsSuccess } from \"./shop.actions\";\n\nfunction* fetchCollectionsAsync() {\n    try {\n        const collectionRef = collection(db, \"collections\");\n        const snapshot = getDocs(collectionRef);\n        const collectionsMap = transformCollectionsSnapshotToMap(snapshot);\n        yield put(fetchCollectionsSuccess(collectionsMap));\n    } catch (error) {\n        yield put(fetchCollectionsFailure(error.message));\n    }  \n}\n\nfunction* fetchCollectionsStart() {\n    yield takeEvery(ShopActionTypes.FETCH_COLLECTIONS_START, fetchCollectionsAsync);\n} \n\nexport {fetchCollectionsAsync, fetchCollectionsStart}"]},"metadata":{},"sourceType":"module"}