{"ast":null,"code":"import { ShopActionTypes } from \"./shop.types\";\nimport { call, put, takeEvery } from \"redux-saga/effects\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db, transformCollectionsSnapshotToMap } from \"../../firebase/firebase.utils\";\nimport { fetchCollectionsFailure, fetchCollectionsSuccess } from \"./shop.actions\";\n\nfunction* fetchCollectionsAsync() {\n  try {\n    const collectionRef = collection(db, \"collections\");\n    const snapshot = yield getDocs(collectionRef); // const collectionsMap = transformCollectionsSnapshotToMap(snapshot);\n\n    const collectionsMap = yield call(transformCollectionsSnapshotToMap, snapshot);\n    yield put(fetchCollectionsSuccess(collectionsMap));\n  } catch (error) {\n    yield put(fetchCollectionsFailure(error.message));\n  }\n}\n\nfunction* fetchCollectionsStart() {\n  yield takeEvery(ShopActionTypes.FETCH_COLLECTIONS_START, fetchCollectionsAsync);\n}\n\nexport { fetchCollectionsAsync, fetchCollectionsStart };","map":{"version":3,"sources":["/home/audrey/Documents/REACT/PORTFOLIO/fashion-store/src/redux/shop/shop.sagas.js"],"names":["ShopActionTypes","call","put","takeEvery","collection","getDocs","db","transformCollectionsSnapshotToMap","fetchCollectionsFailure","fetchCollectionsSuccess","fetchCollectionsAsync","collectionRef","snapshot","collectionsMap","error","message","fetchCollectionsStart","FETCH_COLLECTIONS_START"],"mappings":"AAAA,SAASA,eAAT,QAAgC,cAAhC;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,SAApB,QAAqC,oBAArC;AACA,SAASC,UAAT,EAAqBC,OAArB,QAAoC,oBAApC;AACA,SACEC,EADF,EAEEC,iCAFF,QAGO,+BAHP;AAIA,SACEC,uBADF,EAEEC,uBAFF,QAGO,gBAHP;;AAKA,UAAUC,qBAAV,GAAkC;AAChC,MAAI;AACF,UAAMC,aAAa,GAAGP,UAAU,CAACE,EAAD,EAAK,aAAL,CAAhC;AACA,UAAMM,QAAQ,GAAG,MAAMP,OAAO,CAACM,aAAD,CAA9B,CAFE,CAIF;;AACA,UAAME,cAAc,GAAG,MAAMZ,IAAI,CAC/BM,iCAD+B,EAE/BK,QAF+B,CAAjC;AAKA,UAAMV,GAAG,CAACO,uBAAuB,CAACI,cAAD,CAAxB,CAAT;AACD,GAXD,CAWE,OAAOC,KAAP,EAAc;AACd,UAAMZ,GAAG,CAACM,uBAAuB,CAACM,KAAK,CAACC,OAAP,CAAxB,CAAT;AACD;AACF;;AAED,UAAUC,qBAAV,GAAkC;AAChC,QAAMb,SAAS,CACbH,eAAe,CAACiB,uBADH,EAEbP,qBAFa,CAAf;AAID;;AAED,SAASA,qBAAT,EAAgCM,qBAAhC","sourcesContent":["import { ShopActionTypes } from \"./shop.types\";\nimport { call, put, takeEvery } from \"redux-saga/effects\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport {\n  db,\n  transformCollectionsSnapshotToMap,\n} from \"../../firebase/firebase.utils\";\nimport {\n  fetchCollectionsFailure,\n  fetchCollectionsSuccess,\n} from \"./shop.actions\";\n\nfunction* fetchCollectionsAsync() {\n  try {\n    const collectionRef = collection(db, \"collections\");\n    const snapshot = yield getDocs(collectionRef);\n\n    // const collectionsMap = transformCollectionsSnapshotToMap(snapshot);\n    const collectionsMap = yield call(\n      transformCollectionsSnapshotToMap,\n      snapshot\n    );\n\n    yield put(fetchCollectionsSuccess(collectionsMap));\n  } catch (error) {\n    yield put(fetchCollectionsFailure(error.message));\n  }\n}\n\nfunction* fetchCollectionsStart() {\n  yield takeEvery(\n    ShopActionTypes.FETCH_COLLECTIONS_START,\n    fetchCollectionsAsync\n  );\n}\n\nexport { fetchCollectionsAsync, fetchCollectionsStart };\n"]},"metadata":{},"sourceType":"module"}